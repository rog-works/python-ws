schema:
  from:
    type: "object"
    properties:
      id:
        type: "integer"
      code:
        type: "integer"
      message:
        type: "object"
        additionalProperties: false
        patternProperties:
          '^.+$':
            type: "object"
            properties:
              type:
                type: "integer"
                -v:
                type: "integer"
              valts:
                type: "integer"
              val:
                type: "integer"
  to:
    type: "object"
    properties:
      id:
        type: "integer"
      code:
        type: "integer"
      message:
        type: "string"
      data:
        type: "array"
        items:
          type: "object"
          properties:
            key:
              type: "string"
            value:
              type: "object"
              properties:
                type:
                  type: "integer"
                v:
                  type: "integer"
                valts:
                  type: "integer"
                val:
                  type: "integer"
  mapping:
    id: "id"
    code: "code"
    message: "return message if type(message) is str else ''"
    data: |
      if type(message) is str:
        return {}
      else:
        values = []
        for key, value in message.items():
          values.append({"key": key, "value": value})
        return values
